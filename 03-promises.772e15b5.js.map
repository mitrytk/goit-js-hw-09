{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAO,CACXC,YAAaC,SAASC,cAAc,uBACpCC,WAAYF,SAASC,cAAc,sBACnCE,aAAcH,SAASC,cAAc,wBACrCG,WAAYJ,SAASC,cAAc,kCAyCrC,SAASI,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACvBL,EACFI,EAAQ,CAAEN,WAAUC,UAEpBM,EAAO,CAAEP,WAAUC,S,IA7CzBT,EAAKM,WAAWU,iBAAiB,SAEjC,SAAuBC,GACrBA,EAAIC,iBACJ,IAAMC,EAASC,OAAOpB,EAAKK,aAAagB,OAClCC,EAAQF,OAAOpB,EAAKI,WAAWiB,OAC/BE,EAAaH,OAAOpB,EAAKC,YAAYoB,OAEvCG,EAAW,EAEfC,YAAW,WACM,IAAXN,IACFZ,EAAciB,EAAUF,GACrBI,MAAK,SAAAC,G,IAAGnB,EAAQmB,EAARnB,SAAUC,EAAKkB,EAALlB,MAEjBmB,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,IAEvEuB,OAAM,SAAAL,G,IAAGnB,EAAQmB,EAARnB,SAAUC,EAAKkB,EAALlB,MAElBmB,EAAA9B,GAAS+B,OAAOI,QAAQ,sBAAuCF,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,IAEvEe,GAAY,EACdU,aAAY,WACNV,GAAYL,IACdZ,EAAciB,EAAUF,GACvBI,MAAK,SAAAC,G,IAAGnB,EAAQmB,EAARnB,SAAUC,EAAKkB,EAALlB,MAEjBmB,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,IAEvEuB,OAAM,SAAAL,G,IAAGnB,EAAQmB,EAARnB,SAAUC,EAAKkB,EAALlB,MAElBmB,EAAA9B,GAAS+B,OAAOI,QAAQ,sBAAqCF,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,IAErEe,GAAY,E,GAEbF,G,GAEJC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst refs = {\n  delayFeldEl: document.querySelector('input[name=\"delay\"]'),\n  stepFeldEl: document.querySelector('input[name=\"step\"]'),\n  amountFeldEl: document.querySelector('input[name=\"amount\"]'),\n  createBtEl: document.querySelector('.form > button[type=\"submit\"]'),\n}\nrefs.createBtEl.addEventListener('click', onCreateClick);\n\nfunction onCreateClick(evt) {\n  evt.preventDefault();\n  const amount = Number(refs.amountFeldEl.value); \n  const delay = Number(refs.stepFeldEl.value);\n  const firstDelay = Number(refs.delayFeldEl.value);\n\n  let position = 1;\n\n  setTimeout(() => {\n    if (amount !== 0) {\n      createPromise(position, delay)\n        .then(({ position, delay }) => {\n          // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n          Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        })\n        position += 1;\n      setInterval(() => {\n        if (position <= amount) {\n          createPromise(position, delay)\n          .then(({ position, delay }) => {\n            // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n            Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          })\n          position += 1;\n        }\n      }, delay)\n    }\n  }, firstDelay);\n}\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  })\n}\n\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","delayFeldEl","document","querySelector","stepFeldEl","amountFeldEl","createBtEl","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","evt","preventDefault","amount","Number","value","delay1","firstDelay","position1","setTimeout","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","setInterval"],"version":3,"file":"03-promises.772e15b5.js.map"}