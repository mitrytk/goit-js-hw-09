{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAAO,CACXC,YAAaC,SAASC,cAAc,uBACpCC,WAAYF,SAASC,cAAc,sBACnCE,aAAcH,SAASC,cAAc,wBACrCG,WAAYJ,SAASC,cAAc,kCAyCrC,SAASI,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFI,EAAQ,C,SAAEN,E,MAAUC,IAEpBM,EAAO,C,SAAEP,E,MAAUC,GAAQ,G,CA7CjCT,EAAKM,WAAWU,iBAAiB,SAEjC,SAAuBC,GACrBA,EAAIC,iBACJ,MAAMC,EAASC,OAAOpB,EAAKK,aAAagB,OAClCC,EAAQF,OAAOpB,EAAKI,WAAWiB,OAC/BE,EAAaH,OAAOpB,EAAKC,YAAYoB,OAE3C,IAAIG,EAAW,EAEfC,YAAW,KACM,IAAXN,IACFZ,EAAciB,EAAUF,GACrBI,MAAK,EAAClB,SAAEA,EAAQC,MAAEA,MAEjBkB,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAqBrB,QAAiBC,MAAU,IAEzEqB,OAAM,EAACtB,SAAEA,EAAQC,MAAEA,MAElBkB,EAAA7B,GAAS8B,OAAOG,QAAQ,sBAAoBvB,QAAiBC,MAAU,IAG3EuB,aAAY,KACNR,GAAYL,EAAS,IACvBZ,EAAciB,EAAUF,GACvBI,MAAK,EAAClB,SAAEA,EAAQC,MAAEA,MAEjBkB,EAAA7B,GAAS8B,OAAOC,QAAQ,uBAAqBrB,QAAiBC,MAAU,IAEzEqB,OAAM,EAACtB,SAAEA,EAAQC,MAAEA,MAElBkB,EAAA7B,GAAS8B,OAAOG,QAAQ,sBAAoBvB,QAAeC,MAAU,IAEvEe,GAAY,E,GAEbF,G,GAEJC,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst refs = {\n  delayFeldEl: document.querySelector('input[name=\"delay\"]'),\n  stepFeldEl: document.querySelector('input[name=\"step\"]'),\n  amountFeldEl: document.querySelector('input[name=\"amount\"]'),\n  createBtEl: document.querySelector('.form > button[type=\"submit\"]'),\n}\nrefs.createBtEl.addEventListener('click', onCreateClick);\n\nfunction onCreateClick(evt) {\n  evt.preventDefault();\n  const amount = Number(refs.amountFeldEl.value); \n  const delay = Number(refs.stepFeldEl.value);\n  const firstDelay = Number(refs.delayFeldEl.value);\n\n  let position = 1;\n\n  setTimeout(() => {\n    if (amount !== 0) {\n      createPromise(position, delay)\n        .then(({ position, delay }) => {\n          // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n          Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n        })\n\n      setInterval(() => {\n        if (position <= amount - 1) {\n          createPromise(position, delay)\n          .then(({ position, delay }) => {\n            // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n          })\n          .catch(({ position, delay }) => {\n            // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n            Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n          })\n          position += 1;\n        }\n      }, delay)\n    }\n  }, firstDelay);\n}\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  })\n}\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","delayFeldEl","document","querySelector","stepFeldEl","amountFeldEl","createBtEl","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","evt","preventDefault","amount","Number","value","delay1","firstDelay","position1","setTimeout","then","$parcel$interopDefault","Notify","success","catch","failure","setInterval"],"version":3,"file":"03-promises.0b2b3700.js.map"}